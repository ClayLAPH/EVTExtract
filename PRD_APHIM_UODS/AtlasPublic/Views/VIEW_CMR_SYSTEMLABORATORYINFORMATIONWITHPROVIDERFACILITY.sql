

--[AtlasPublic].[VIEW_CMR_SYSTEMLABORATORYINFORMATIONWITHPROVIDERFACILITY]--

CREATE   VIEW [AtlasPublic].[VIEW_CMR_SYSTEMLABORATORYINFORMATIONWITHPROVIDERFACILITY]
AS
SELECT INCIDENTID AS IncidentID, 
PHRECORDID AS PHRECORDID, 
LabReportID AS LabReportID, 
ACCESSIONNUMBER AS ACCESSIONNUMBER,
HL7FILENAME AS HL7FILENAME,
ABNORMALFLAG AS ABNORMALFLAG,
IMPORTSTATUS AS IMPORTSTATUS,
ISFROMHL7 AS ISFROMHL7,
LABRESULTSTATUS AS ORDERSTATUS,
SUBSTRING(LOCALORGANISMCODE,0,CHARINDEX('||',LOCALORGANISMCODE)) AS LOCALORGANISMCODE, 
SUBSTRING(LOCALORGANISMDESCRIPTION,0,CHARINDEX('||',LOCALORGANISMDESCRIPTION)) AS LOCALORGANISMDESCRIPTION,
LOCALTESTCODE AS LOCALTESTCODE,
LOCALTESTDESCRIPTION AS LOCALTESTDESCRIPTION,
NOTES AS NOTES,
ORGANISMCODE AS ORGANISMCODE,
ORGANISMDESCRIPTION AS ORGANISMDESCRIPTION,
PATIENTNAME AS PATIENTNAME,
PERFORMINGFACILITYID AS PERFORMINGFACILITYID,
PERSONVERIFIEDRESULT AS PERSONVERIFIEDRESULT, 
PFGEPATTERN1ST AS PFGEPATTERN1ST,
PFGEPATTERN2ND AS PFGEPATTERN2ND,
REFERENCERANGE AS REFERENCERANGE,
RESULTDATE AS RESULTDATE,
RESULTSTATUS AS RESULTSTATUS,
RESULTUNIT AS RESULTUNIT,
RESULTVALUE AS RESULTVALUE,
SEROGROUP AS SEROGROUP,
SEROLOGY AS SEROLOGY,
SEROTYPE AS SEROTYPE,
SPECIES AS SPECIES,
SPECBODYSITE AS SPECBODYSITE,
SPECCOLLECTEDDATE AS SPECCOLLECTEDDATE,
SPECIMENSOURCE AS SPECIMENSOURCE,
SPECIMENSOURCETEXT AS SPECIMENSOURCETEXT,
SPECRECEIVEDDATE AS SPECRECEIVEDDATE,
TESTCODE AS TESTCODE,
TESTDESCRIPTION AS TESTDESCRIPTION,
DILR_StatusCode AS DILR_StatusCode,
PROVIDERNAME AS PROVIDERNAME,
PROVIDERID AS PROVIDERID,
PROVIDERADDRESS AS PROVIDERADDRESS,
PROVIDERCITY AS PROVIDERCITY,
PROVIDERSTATE AS PROVIDERSTATE,
PROVIDERCOUNTY AS PROVIDERCOUNTY,
PROVIDERZIP AS PROVIDERZIP,
PROVIDERPHONE AS PROVIDERPHONE,
PROVIDEREMAIL AS PROVIDEREMAIL,
PROVIDERFAX AS PROVIDERFAX,
FACILITYNAME AS FACILITYNAME,
FACILITYADDRESS AS FACILITYADDRESS,
FACILITYCITY AS FACILITYCITY,
FACILITYSTATE AS FACILITYSTATE,
FACILITYCOUNTY AS FACILITYCOUNTY,
FACILITYZIP AS FACILITYZIP,
FACILITYPHONE AS FACILITYPHONE,
PLACERORDERNO AS PLACERORDERNO,
FACILITYEMAIL AS FACILITYEMAIL,
FACILITYID AS FACILITYID,
EXTENDEDRESULTVALUE AS EXTENDEDRESULTVALUE,
RELEVANTCLINICALINFORMATION AS RELEVANTCLINICALINFORMATION,
REASONFORSTUDY As REASONFORSTUDY
FROM  [AtlasInternal].[VIEWSYSTEMLABORATORYINFORMATIONWITHPROVIDERFACILITY]
