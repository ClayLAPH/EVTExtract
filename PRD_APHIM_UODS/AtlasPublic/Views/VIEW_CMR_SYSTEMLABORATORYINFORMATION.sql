

-- [AtlasPublic].[VIEW_CMR_SYSTEMLABORATORYINFORMATION] --

CREATE   VIEW [AtlasPublic].[VIEW_CMR_SYSTEMLABORATORYINFORMATION]
AS
SELECT INCIDENTID AS IncidentID, 
PHRECORDID AS PHRECORDID, 
LabReportID AS LabReportID, 
ACCESSIONNUMBER AS ACCESSIONNUMBER,
HL7FILENAME AS HL7FILENAME,
ABNORMALFLAG AS ABNORMALFLAG,
IMPORTSTATUS AS IMPORTSTATUS,
ISFROMHL7 AS ISFROMHL7,
LABRESULTSTATUS AS ORDERSTATUS,
SUBSTRING(LOCALORGANISMCODE,0,CHARINDEX('||',LOCALORGANISMCODE)) AS LOCALORGANISMCODE, 
SUBSTRING(LOCALORGANISMDESCRIPTION,0,CHARINDEX('||',LOCALORGANISMDESCRIPTION)) AS LOCALORGANISMDESCRIPTION,
LOCALTESTCODE AS LOCALTESTCODE,
LOCALTESTDESCRIPTION AS LOCALTESTDESCRIPTION,
NOTES AS NOTES,
ORGANISMCODE AS ORGANISMCODE,
ORGANISMDESCRIPTION AS ORGANISMDESCRIPTION,
PATIENTNAME AS PATIENTNAME,
PERFORMINGFACILITYID AS PERFORMINGFACILITYID,
PERSONVERIFIEDRESULT AS PERSONVERIFIEDRESULT, 
PFGEPATTERN1ST AS PFGEPATTERN1ST,
PFGEPATTERN2ND AS PFGEPATTERN2ND,
REFERENCERANGE AS REFERENCERANGE,
RESULTDATE AS RESULTDATE,
RESULTSTATUS AS RESULTSTATUS,
RESULTUNIT AS RESULTUNIT,
RESULTVALUE AS RESULTVALUE,
SEROGROUP AS SEROGROUP,
SEROLOGY AS SEROLOGY,
SEROTYPE AS SEROTYPE,
SPECIES AS SPECIES,
SPECBODYSITE AS SPECBODYSITE,
SPECCOLLECTEDDATE AS SPECCOLLECTEDDATE,
SPECIMENSOURCE AS SPECIMENSOURCE,
SPECIMENSOURCETEXT AS SPECIMENSOURCETEXT,
SPECRECEIVEDDATE AS SPECRECEIVEDDATE,
TESTCODE AS TESTCODE,
TESTDESCRIPTION AS TESTDESCRIPTION,
DILR_StatusCode AS DILR_StatusCode,
EXTENDEDRESULTVALUE AS EXTENDEDRESULTVALUE,
RELEVANTCLINICALINFORMATION AS RELEVANTCLINICALINFORMATION,
REASONFORSTUDY As REASONFORSTUDY
FROM AtlasInternal.VIEWSYSTEMLABORATORYINFORMATION
